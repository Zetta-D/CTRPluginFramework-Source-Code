/* This file has been generated by the Hex-Rays decompiler.
   Copyright (c) 2007-2017 Hex-Rays <info@hex-rays.com>

   Detected compiler: GNU C++
*/

#include <defs.h>


//-------------------------------------------------------------------------
// Function declarations

CTRPluginFramework::MenuEntry *__fastcall CTRPluginFramework::MenuEntry::MenuEntry(CTRPluginFramework::MenuEntry *a1);
CTRPluginFramework::MenuEntry *__fastcall CTRPluginFramework::MenuEntry::MenuEntry(CTRPluginFramework::MenuEntry *a1, int a2);
CTRPluginFramework::MenuEntry *__fastcall CTRPluginFramework::MenuEntry::MenuEntry(CTRPluginFramework::MenuEntry *a1, int a2, int a3, int a4, int a5);
CTRPluginFramework::MenuEntry *__fastcall CTRPluginFramework::MenuEntry::MenuEntry(CTRPluginFramework::MenuEntry *a1, int a2, int a3, int a4, int a5);
CTRPluginFramework::MenuEntry *__fastcall CTRPluginFramework::MenuEntry::MenuEntry(CTRPluginFramework::MenuEntry *a1, int a2, int a3, int a4, int a5, int a6);
CTRPluginFramework::MenuEntry *__fastcall CTRPluginFramework::MenuEntry::~MenuEntry(CTRPluginFramework::MenuEntry *this);
int __fastcall CTRPluginFramework::MenuEntry::Enable(CTRPluginFramework::MenuEntry *this);
int __fastcall CTRPluginFramework::MenuEntry::Disable(CTRPluginFramework::MenuEntry *this);
int __fastcall CTRPluginFramework::MenuEntry::Hide(CTRPluginFramework::MenuEntry *this);
int __fastcall CTRPluginFramework::MenuEntry::Show(CTRPluginFramework::MenuEntry *this);
int __fastcall CTRPluginFramework::MenuEntry::SetRadio(CTRPluginFramework::MenuEntry *this, int a2);
int __fastcall CTRPluginFramework::MenuEntry::SetArg(CTRPluginFramework::MenuEntry *this, void *a2);
int __fastcall CTRPluginFramework::MenuEntry::GetArg(CTRPluginFramework::MenuEntry *this);
int __fastcall CTRPluginFramework::MenuEntry::WasJustActivated(CTRPluginFramework::MenuEntry *this);
int __fastcall CTRPluginFramework::MenuEntry::IsActivated(CTRPluginFramework::MenuEntry *this);
int __fastcall CTRPluginFramework::MenuEntry::IsVisible(CTRPluginFramework::MenuEntry *this);
__int64 __fastcall CTRPluginFramework::MenuEntry::UseTopSeparator(__int64 result);
__int64 __fastcall CTRPluginFramework::MenuEntry::UseBottomSeparator(__int64 result);
int __fastcall CTRPluginFramework::MenuEntry::CanBeSelected(int result, int a2);
int __fastcall CTRPluginFramework::MenuEntry::SetGameFunc(int result, void (__cdecl *a2)(CTRPluginFramework::MenuEntry *));
int __fastcall CTRPluginFramework::MenuEntry::SetMenuFunc(int result, void (__cdecl *a2)(CTRPluginFramework::MenuEntry *));
int __fastcall CTRPluginFramework::MenuEntry::RefreshNote(CTRPluginFramework::MenuEntry *this);
int __fastcall ZNK18CTRPluginFramework9MenuEntry4NameB5cxx11Ev(int a1);
int __fastcall ZNK18CTRPluginFramework9MenuEntry4NoteB5cxx11Ev(int a1);
// _DWORD __cdecl CTRPluginFramework::HotkeyManager::HotkeyManager(CTRPluginFramework::HotkeyManager *__hidden this, CTRPluginFramework::MenuEntry *); idb
// _DWORD __cdecl operator new(unsigned int); idb
// int CTRPluginFramework::MenuEntryImpl::MenuEntryImpl(void); weak
// int __cdecl CTRPluginFramework::MenuEntryImpl::MenuEntryImpl(_DWORD, _DWORD); weak
// _DWORD __cdecl CTRPluginFramework::MenuEntryImpl::SetRadio(CTRPluginFramework::MenuEntryImpl *__hidden this, int); idb
// _DWORD __cdecl CTRPluginFramework::HotkeyManager::~HotkeyManager(CTRPluginFramework::HotkeyManager *__hidden this); idb
// _DWORD CTRPluginFramework::MenuItem::Hide(CTRPluginFramework::MenuItem *__hidden this); weak
// _DWORD CTRPluginFramework::MenuItem::Show(CTRPluginFramework::MenuItem *__hidden this); weak
// _DWORD __cdecl CTRPluginFramework::MenuEntryImpl::SetArg(CTRPluginFramework::MenuEntryImpl *__hidden this, void *); weak
// int __fastcall CTRPluginFramework::MenuEntryImpl::GetArg(_DWORD); weak
// int __fastcall CTRPluginFramework::MenuEntryImpl::WasJustActivated(_DWORD); weak
// _DWORD CTRPluginFramework::MenuEntryImpl::IsActivated(CTRPluginFramework::MenuEntryImpl *__hidden this); idb
// _DWORD CTRPluginFramework::MenuItem::NoteChanged(CTRPluginFramework::MenuItem *__hidden this); weak


//----- (00000004) --------------------------------------------------------
CTRPluginFramework::MenuEntry *__fastcall CTRPluginFramework::MenuEntry::MenuEntry(CTRPluginFramework::MenuEntry *a1)
{
  CTRPluginFramework::MenuEntry *v1; // r4
  int v2; // r5

  v1 = a1;
  CTRPluginFramework::HotkeyManager::HotkeyManager(a1, a1);
  v2 = operator new(0x78u);
  CTRPluginFramework::MenuEntryImpl::MenuEntryImpl();
  *((_DWORD *)v1 + 5) = v2;
  return v1;
}
// 344: using guessed type int CTRPluginFramework::MenuEntryImpl::MenuEntryImpl(void);

//----- (00000044) --------------------------------------------------------
CTRPluginFramework::MenuEntry *__fastcall CTRPluginFramework::MenuEntry::MenuEntry(CTRPluginFramework::MenuEntry *a1, int a2)
{
  int v2; // r6
  CTRPluginFramework::MenuEntry *v3; // r4
  int v4; // r5
  CTRPluginFramework::MenuEntry *result; // r0

  v2 = a2;
  v3 = a1;
  CTRPluginFramework::HotkeyManager::HotkeyManager(a1, a1);
  v4 = operator new(0x78u);
  CTRPluginFramework::MenuEntryImpl::MenuEntryImpl(v4, v2);
  result = v3;
  *((_DWORD *)v3 + 5) = v4;
  return result;
}
// 348: using guessed type int __cdecl CTRPluginFramework::MenuEntryImpl::MenuEntryImpl(_DWORD, _DWORD);

//----- (00000090) --------------------------------------------------------
CTRPluginFramework::MenuEntry *__fastcall CTRPluginFramework::MenuEntry::MenuEntry(CTRPluginFramework::MenuEntry *a1, int a2, int a3, int a4, int a5)
{
  int v5; // r7
  CTRPluginFramework::MenuEntry *v6; // r4
  int v7; // r6
  int v8; // r5
  CTRPluginFramework::MenuEntry *result; // r0

  v5 = a2;
  v6 = a1;
  v7 = a4;
  CTRPluginFramework::HotkeyManager::HotkeyManager(a1, a1);
  v8 = operator new(0x78u);
  CTRPluginFramework::MenuEntryImpl::MenuEntryImpl(v8, v5);
  result = v6;
  *((_DWORD *)v6 + 5) = v8;
  *(_DWORD *)(v8 + 72) = v7;
  return result;
}
// 348: using guessed type int __cdecl CTRPluginFramework::MenuEntryImpl::MenuEntryImpl(_DWORD, _DWORD);

//----- (000000E0) --------------------------------------------------------
CTRPluginFramework::MenuEntry *__fastcall CTRPluginFramework::MenuEntry::MenuEntry(CTRPluginFramework::MenuEntry *a1, int a2, int a3, int a4, int a5)
{
  int v5; // r6
  CTRPluginFramework::MenuEntry *v6; // r4
  int v7; // r7
  CTRPluginFramework::MenuEntryImpl *v8; // r5

  v5 = a2;
  v6 = a1;
  v7 = a3;
  CTRPluginFramework::HotkeyManager::HotkeyManager(a1, a1);
  v8 = (CTRPluginFramework::MenuEntryImpl *)operator new(0x78u);
  CTRPluginFramework::MenuEntryImpl::MenuEntryImpl(v8, v7);
  *((_DWORD *)v6 + 5) = v8;
  CTRPluginFramework::MenuEntryImpl::SetRadio(v8, v5);
  return v6;
}
// 348: using guessed type int __cdecl CTRPluginFramework::MenuEntryImpl::MenuEntryImpl(_DWORD, _DWORD);

//----- (00000138) --------------------------------------------------------
CTRPluginFramework::MenuEntry *__fastcall CTRPluginFramework::MenuEntry::MenuEntry(CTRPluginFramework::MenuEntry *a1, int a2, int a3, int a4, int a5, int a6)
{
  int v6; // r6
  CTRPluginFramework::MenuEntry *v7; // r4
  int v8; // r7
  CTRPluginFramework::MenuEntryImpl *v9; // r5
  CTRPluginFramework::MenuEntry *result; // r0

  v6 = a2;
  v7 = a1;
  v8 = a3;
  CTRPluginFramework::HotkeyManager::HotkeyManager(a1, a1);
  v9 = (CTRPluginFramework::MenuEntryImpl *)operator new(0x78u);
  CTRPluginFramework::MenuEntryImpl::MenuEntryImpl(v9, v8);
  *((_DWORD *)v7 + 5) = v9;
  CTRPluginFramework::MenuEntryImpl::SetRadio(v9, v6);
  result = v7;
  *(_DWORD *)(*((_DWORD *)v7 + 5) + 72) = a5;
  return result;
}
// 348: using guessed type int __cdecl CTRPluginFramework::MenuEntryImpl::MenuEntryImpl(_DWORD, _DWORD);

//----- (0000019C) --------------------------------------------------------
CTRPluginFramework::MenuEntry *__fastcall CTRPluginFramework::MenuEntry::~MenuEntry(CTRPluginFramework::MenuEntry *this)
{
  CTRPluginFramework::MenuEntry *v1; // r4
  int v2; // r0

  v1 = this;
  v2 = *((_DWORD *)this + 5);
  if ( v2 )
    (*(void (**)(void))(*(_DWORD *)v2 + 4))();
  CTRPluginFramework::HotkeyManager::~HotkeyManager(v1);
  return v1;
}

//----- (000001CC) --------------------------------------------------------
int __fastcall CTRPluginFramework::MenuEntry::Enable(CTRPluginFramework::MenuEntry *this)
{
  return (*(int (**)(void))(**((_DWORD **)this + 5) + 12))();
}

//----- (000001DC) --------------------------------------------------------
int __fastcall CTRPluginFramework::MenuEntry::Disable(CTRPluginFramework::MenuEntry *this)
{
  return (*(int (**)(void))(**((_DWORD **)this + 5) + 16))();
}

//----- (000001EC) --------------------------------------------------------
int __fastcall CTRPluginFramework::MenuEntry::Hide(CTRPluginFramework::MenuEntry *this)
{
  return CTRPluginFramework::MenuItem::Hide(*((CTRPluginFramework::MenuItem **)this + 5));
}
// 354: using guessed type _DWORD CTRPluginFramework::MenuItem::Hide(CTRPluginFramework::MenuItem *__hidden this);

//----- (000001F4) --------------------------------------------------------
int __fastcall CTRPluginFramework::MenuEntry::Show(CTRPluginFramework::MenuEntry *this)
{
  return CTRPluginFramework::MenuItem::Show(*((CTRPluginFramework::MenuItem **)this + 5));
}
// 358: using guessed type _DWORD CTRPluginFramework::MenuItem::Show(CTRPluginFramework::MenuItem *__hidden this);

//----- (000001FC) --------------------------------------------------------
int __fastcall CTRPluginFramework::MenuEntry::SetRadio(CTRPluginFramework::MenuEntry *this, int a2)
{
  return CTRPluginFramework::MenuEntryImpl::SetRadio(*((CTRPluginFramework::MenuEntryImpl **)this + 5), a2);
}

//----- (00000204) --------------------------------------------------------
int __fastcall CTRPluginFramework::MenuEntry::SetArg(CTRPluginFramework::MenuEntry *this, void *a2)
{
  return CTRPluginFramework::MenuEntryImpl::SetArg(*((CTRPluginFramework::MenuEntryImpl **)this + 5), a2);
}
// 35C: using guessed type _DWORD __cdecl CTRPluginFramework::MenuEntryImpl::SetArg(CTRPluginFramework::MenuEntryImpl *__hidden this, void *);

//----- (0000020C) --------------------------------------------------------
int __fastcall CTRPluginFramework::MenuEntry::GetArg(CTRPluginFramework::MenuEntry *this)
{
  return CTRPluginFramework::MenuEntryImpl::GetArg(*((_DWORD *)this + 5));
}
// 360: using guessed type int __fastcall CTRPluginFramework::MenuEntryImpl::GetArg(_DWORD);

//----- (00000214) --------------------------------------------------------
int __fastcall CTRPluginFramework::MenuEntry::WasJustActivated(CTRPluginFramework::MenuEntry *this)
{
  return CTRPluginFramework::MenuEntryImpl::WasJustActivated(*((_DWORD *)this + 5));
}
// 364: using guessed type int __fastcall CTRPluginFramework::MenuEntryImpl::WasJustActivated(_DWORD);

//----- (0000021C) --------------------------------------------------------
int __fastcall CTRPluginFramework::MenuEntry::IsActivated(CTRPluginFramework::MenuEntry *this)
{
  return CTRPluginFramework::MenuEntryImpl::IsActivated(*((CTRPluginFramework::MenuEntryImpl **)this + 5));
}

//----- (00000224) --------------------------------------------------------
int __fastcall CTRPluginFramework::MenuEntry::IsVisible(CTRPluginFramework::MenuEntry *this)
{
  return (*(_BYTE *)(*((_DWORD *)this + 5) + 56) >> 4) & 1;
}

//----- (00000238) --------------------------------------------------------
__int64 __fastcall CTRPluginFramework::MenuEntry::UseTopSeparator(__int64 result)
{
  int v1; // r2
  char v2; // r3

  v1 = *(_DWORD *)(result + 20);
  v2 = *(_BYTE *)(v1 + 56) & 0xFE;
  if ( HIDWORD(result) )
    v2 |= 1u;
  *(_BYTE *)(v1 + 56) = v2;
  HIDWORD(result) = HIDWORD(result) == 2;
  *(_BYTE *)(*(_DWORD *)(result + 20) + 56) = *(_BYTE *)(*(_DWORD *)(result + 20) + 56) & 0xFB | 4 * BYTE4(result);
  return result;
}

//----- (00000274) --------------------------------------------------------
__int64 __fastcall CTRPluginFramework::MenuEntry::UseBottomSeparator(__int64 result)
{
  char v1; // r12

  v1 = BYTE4(result);
  if ( HIDWORD(result) )
    v1 = 1;
  HIDWORD(result) = HIDWORD(result) == 2;
  *(_BYTE *)(*(_DWORD *)(result + 20) + 56) = *(_BYTE *)(*(_DWORD *)(result + 20) + 56) & 0xFD | 2 * v1;
  *(_BYTE *)(*(_DWORD *)(result + 20) + 56) = *(_BYTE *)(*(_DWORD *)(result + 20) + 56) & 0xF7 | 8 * BYTE4(result);
  return result;
}

//----- (000002B4) --------------------------------------------------------
int __fastcall CTRPluginFramework::MenuEntry::CanBeSelected(int result, int a2)
{
  int v2; // r4

  *(_BYTE *)(*(_DWORD *)(result + 20) + 100) = *(_BYTE *)(*(_DWORD *)(result + 20) + 100) & 0xF7 | 8 * ((a2 ^ 1) & 1);
  if ( !a2 )
  {
    v2 = result;
    result = CTRPluginFramework::MenuEntryImpl::IsActivated(*(CTRPluginFramework::MenuEntryImpl **)(result + 20));
    if ( result )
      result = (*(int (**)(void))(**(_DWORD **)(v2 + 20) + 16))();
  }
  return result;
}

//----- (00000304) --------------------------------------------------------
int __fastcall CTRPluginFramework::MenuEntry::SetGameFunc(int result, void (__cdecl *a2)(CTRPluginFramework::MenuEntry *))
{
  *(_DWORD *)(*(_DWORD *)(result + 20) + 68) = a2;
  return result;
}

//----- (00000310) --------------------------------------------------------
int __fastcall CTRPluginFramework::MenuEntry::SetMenuFunc(int result, void (__cdecl *a2)(CTRPluginFramework::MenuEntry *))
{
  *(_DWORD *)(*(_DWORD *)(result + 20) + 72) = a2;
  return result;
}

//----- (0000031C) --------------------------------------------------------
int __fastcall CTRPluginFramework::MenuEntry::RefreshNote(CTRPluginFramework::MenuEntry *this)
{
  return CTRPluginFramework::MenuItem::NoteChanged(*((CTRPluginFramework::MenuItem **)this + 5));
}
// 36C: using guessed type _DWORD CTRPluginFramework::MenuItem::NoteChanged(CTRPluginFramework::MenuItem *__hidden this);

//----- (00000324) --------------------------------------------------------
int __fastcall ZNK18CTRPluginFramework9MenuEntry4NameB5cxx11Ev(int a1)
{
  return *(_DWORD *)(a1 + 20) + 4;
}

//----- (00000330) --------------------------------------------------------
int __fastcall ZNK18CTRPluginFramework9MenuEntry4NoteB5cxx11Ev(int a1)
{
  return *(_DWORD *)(a1 + 20) + 28;
}

// ALL OK, 24 function(s) have been successfully decompiled
