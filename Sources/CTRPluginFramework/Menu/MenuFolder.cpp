/* This file has been generated by the Hex-Rays decompiler.
   Copyright (c) 2007-2017 Hex-Rays <info@hex-rays.com>

   Detected compiler: GNU C++
*/

#include <defs.h>


//-------------------------------------------------------------------------
// Function declarations

_DWORD *__fastcall CTRPluginFramework::MenuFolder::MenuFolder(_DWORD *a1);
CTRPluginFramework::MenuFolder *__fastcall CTRPluginFramework::MenuFolder::~MenuFolder(CTRPluginFramework::MenuFolder *this);
int __fastcall CTRPluginFramework::MenuFolder::Hide(CTRPluginFramework::MenuFolder *this);
int __fastcall CTRPluginFramework::MenuFolder::Show(CTRPluginFramework::MenuFolder *this);
int __fastcall CTRPluginFramework::MenuFolder::IsVisible(CTRPluginFramework::MenuFolder *this);
__int64 __fastcall CTRPluginFramework::MenuFolder::UseTopSeparator(__int64 result);
__int64 __fastcall CTRPluginFramework::MenuFolder::UseBottomSeparator(__int64 result);
int __fastcall CTRPluginFramework::MenuFolder::Append(int a1, int a2);
int __fastcall CTRPluginFramework::MenuFolder::MenuFolder(_DWORD *a1, int a2, int a3, int **a4);
int __fastcall CTRPluginFramework::MenuFolder::MenuFolder(_DWORD *a1, int a2, int **a3);
int __fastcall CTRPluginFramework::MenuFolder::Append(CTRPluginFramework::MenuFolder *this, CTRPluginFramework::MenuFolder *a2);
CTRPluginFramework::MenuFolder *__fastcall CTRPluginFramework::MenuFolder::GetEntryList(CTRPluginFramework::MenuFolder *this, int a2);
CTRPluginFramework::MenuFolder *__fastcall CTRPluginFramework::MenuFolder::GetFolderList(CTRPluginFramework::MenuFolder *this, int a2);
int __fastcall ZNK18CTRPluginFramework10MenuFolder4NameB5cxx11Ev(int a1);
int __fastcall ZNK18CTRPluginFramework10MenuFolder4NoteB5cxx11Ev(int a1);
int __fastcall CTRPluginFramework::MenuFolder::ItemsCount(CTRPluginFramework::MenuFolder *this);
int __fastcall CTRPluginFramework::MenuFolder::Clear(CTRPluginFramework::MenuFolder *this);
int __fastcall CTRPluginFramework::MenuFolder::Remove(CTRPluginFramework::MenuFolder *this, unsigned int a2, unsigned int a3, bool a4);
int __fastcall CTRPluginFramework::MenuFolder::operator+=(int a1, int a2);
int __fastcall CTRPluginFramework::MenuFolder::operator-=(int a1, int a2);
int __fastcall CTRPluginFramework::MenuFolder::operator+=(int a1, int a2);
int __fastcall CTRPluginFramework::MenuFolder::operator-=(int a1, int a2);
// _DWORD __cdecl operator new(unsigned int); idb
// int CTRPluginFramework::MenuFolderImpl::MenuFolderImpl(void); weak
// _DWORD CTRPluginFramework::MenuItem::Hide(CTRPluginFramework::MenuItem *__hidden this); weak
// _DWORD CTRPluginFramework::MenuItem::Show(CTRPluginFramework::MenuItem *__hidden this); weak
// _DWORD __cdecl CTRPluginFramework::MenuFolderImpl::Append(CTRPluginFramework::MenuFolderImpl *__hidden this, CTRPluginFramework::MenuItem *, bool); weak
// int std::__cxx11::basic_string<char,std::char_traits<char>,std::allocator<char>>::_S_copy_chars(void); weak
// int __fastcall std::__cxx11::basic_string<char,std::char_traits<char>,std::allocator<char>>::_M_dispose(_DWORD); weak
// _DWORD CTRPluginFramework::MenuFolderImpl::GetEntryList(CTRPluginFramework::MenuFolderImpl *__hidden this); idb
// _DWORD CTRPluginFramework::MenuFolderImpl::GetFolderList(CTRPluginFramework::MenuFolderImpl *__hidden this); idb
// int __fastcall CTRPluginFramework::MenuFolderImpl::ItemsCount(_DWORD); weak
// _DWORD CTRPluginFramework::MenuFolderImpl::Clear(CTRPluginFramework::MenuFolderImpl *__hidden this); weak
// _DWORD __cdecl CTRPluginFramework::MenuFolderImpl::Remove(CTRPluginFramework::MenuFolderImpl *__hidden this, unsigned int, unsigned int, bool); weak
// _DWORD __cdecl CTRPluginFramework::MenuFolderImpl::Remove(CTRPluginFramework::MenuFolderImpl *__hidden this, CTRPluginFramework::MenuItem *); weak


//----- (00000004) --------------------------------------------------------
_DWORD *__fastcall CTRPluginFramework::MenuFolder::MenuFolder(_DWORD *a1)
{
  _DWORD *v1; // r4
  int v2; // r5

  v1 = a1;
  *a1 = 0;
  v2 = operator new(0x64u);
  CTRPluginFramework::MenuFolderImpl::MenuFolderImpl();
  v1[1] = v2;
  return v1;
}
// 2FC: using guessed type int CTRPluginFramework::MenuFolderImpl::MenuFolderImpl(void);

//----- (00000044) --------------------------------------------------------
CTRPluginFramework::MenuFolder *__fastcall CTRPluginFramework::MenuFolder::~MenuFolder(CTRPluginFramework::MenuFolder *this)
{
  CTRPluginFramework::MenuFolder *v1; // r4
  int v2; // r0

  v1 = this;
  v2 = *((_DWORD *)this + 1);
  if ( v2 )
    (*(void (**)(void))(*(_DWORD *)v2 + 4))();
  return v1;
}

//----- (0000006C) --------------------------------------------------------
int __fastcall CTRPluginFramework::MenuFolder::Hide(CTRPluginFramework::MenuFolder *this)
{
  return CTRPluginFramework::MenuItem::Hide(*((CTRPluginFramework::MenuItem **)this + 1));
}
// 300: using guessed type _DWORD CTRPluginFramework::MenuItem::Hide(CTRPluginFramework::MenuItem *__hidden this);

//----- (00000074) --------------------------------------------------------
int __fastcall CTRPluginFramework::MenuFolder::Show(CTRPluginFramework::MenuFolder *this)
{
  return CTRPluginFramework::MenuItem::Show(*((CTRPluginFramework::MenuItem **)this + 1));
}
// 304: using guessed type _DWORD CTRPluginFramework::MenuItem::Show(CTRPluginFramework::MenuItem *__hidden this);

//----- (0000007C) --------------------------------------------------------
int __fastcall CTRPluginFramework::MenuFolder::IsVisible(CTRPluginFramework::MenuFolder *this)
{
  return (*(_BYTE *)(*((_DWORD *)this + 1) + 56) >> 4) & 1;
}

//----- (00000090) --------------------------------------------------------
__int64 __fastcall CTRPluginFramework::MenuFolder::UseTopSeparator(__int64 result)
{
  int v1; // r2
  char v2; // r3

  v1 = *(_DWORD *)(result + 4);
  v2 = *(_BYTE *)(v1 + 56) & 0xFE;
  if ( HIDWORD(result) )
    v2 |= 1u;
  *(_BYTE *)(v1 + 56) = v2;
  HIDWORD(result) = HIDWORD(result) == 2;
  *(_BYTE *)(*(_DWORD *)(result + 4) + 56) = *(_BYTE *)(*(_DWORD *)(result + 4) + 56) & 0xFB | 4 * BYTE4(result);
  return result;
}

//----- (000000CC) --------------------------------------------------------
__int64 __fastcall CTRPluginFramework::MenuFolder::UseBottomSeparator(__int64 result)
{
  char v1; // r12

  v1 = BYTE4(result);
  if ( HIDWORD(result) )
    v1 = 1;
  HIDWORD(result) = HIDWORD(result) == 2;
  *(_BYTE *)(*(_DWORD *)(result + 4) + 56) = *(_BYTE *)(*(_DWORD *)(result + 4) + 56) & 0xFD | 2 * v1;
  *(_BYTE *)(*(_DWORD *)(result + 4) + 56) = *(_BYTE *)(*(_DWORD *)(result + 4) + 56) & 0xFB | 4 * BYTE4(result);
  return result;
}

//----- (0000010C) --------------------------------------------------------
int __fastcall CTRPluginFramework::MenuFolder::Append(int a1, int a2)
{
  return CTRPluginFramework::MenuFolderImpl::Append(
           *(CTRPluginFramework::MenuFolderImpl **)(a1 + 4),
           *(CTRPluginFramework::MenuItem **)(a2 + 20),
           0);
}
// 308: using guessed type _DWORD __cdecl CTRPluginFramework::MenuFolderImpl::Append(CTRPluginFramework::MenuFolderImpl *__hidden this, CTRPluginFramework::MenuItem *, bool);

//----- (0000011C) --------------------------------------------------------
int __fastcall CTRPluginFramework::MenuFolder::MenuFolder(_DWORD *a1, int a2, int a3, int **a4)
{
  int **v4; // r6
  int v5; // r4
  int v6; // r5
  int *v7; // r5
  int *v8; // r6
  int v9; // t1

  v4 = a4;
  v5 = (int)a1;
  *a1 = 0;
  v6 = operator new(0x64u);
  CTRPluginFramework::MenuFolderImpl::MenuFolderImpl();
  *(_DWORD *)(v5 + 4) = v6;
  v7 = *v4;
  v8 = v4[1];
  while ( v8 != v7 )
  {
    v9 = *v7;
    ++v7;
    CTRPluginFramework::MenuFolder::Append(v5, v9);
  }
  return v5;
}
// 2FC: using guessed type int CTRPluginFramework::MenuFolderImpl::MenuFolderImpl(void);

//----- (0000017C) --------------------------------------------------------
int __fastcall CTRPluginFramework::MenuFolder::MenuFolder(_DWORD *a1, int a2, int **a3)
{
  int **v3; // r6
  int v4; // r4
  int v5; // r5
  int *v6; // r5
  int *v7; // r6
  int v8; // t1
  char *v10; // [sp+0h] [bp-30h]
  int v11; // [sp+4h] [bp-2Ch]
  char v12; // [sp+8h] [bp-28h]

  v3 = a3;
  v4 = (int)a1;
  *a1 = 0;
  v10 = &v12;
  std::__cxx11::basic_string<char,std::char_traits<char>,std::allocator<char>>::_S_copy_chars();
  v11 = 0;
  v12 = 0;
  v5 = operator new(0x64u);
  CTRPluginFramework::MenuFolderImpl::MenuFolderImpl();
  *(_DWORD *)(v4 + 4) = v5;
  std::__cxx11::basic_string<char,std::char_traits<char>,std::allocator<char>>::_M_dispose(&v10);
  v6 = *v3;
  v7 = v3[1];
  while ( v7 != v6 )
  {
    v8 = *v6;
    ++v6;
    CTRPluginFramework::MenuFolder::Append(v4, v8);
  }
  return v4;
}
// 2FC: using guessed type int CTRPluginFramework::MenuFolderImpl::MenuFolderImpl(void);
// 30C: using guessed type int std::__cxx11::basic_string<char,std::char_traits<char>,std::allocator<char>>::_S_copy_chars(void);
// 310: using guessed type int __fastcall std::__cxx11::basic_string<char,std::char_traits<char>,std::allocator<char>>::_M_dispose(_DWORD);

//----- (0000020C) --------------------------------------------------------
int __fastcall CTRPluginFramework::MenuFolder::Append(CTRPluginFramework::MenuFolder *this, CTRPluginFramework::MenuFolder *a2)
{
  return CTRPluginFramework::MenuFolderImpl::Append(
           *((CTRPluginFramework::MenuFolderImpl **)this + 1),
           *((CTRPluginFramework::MenuItem **)a2 + 1),
           0);
}
// 308: using guessed type _DWORD __cdecl CTRPluginFramework::MenuFolderImpl::Append(CTRPluginFramework::MenuFolderImpl *__hidden this, CTRPluginFramework::MenuItem *, bool);

//----- (0000021C) --------------------------------------------------------
CTRPluginFramework::MenuFolder *__fastcall CTRPluginFramework::MenuFolder::GetEntryList(CTRPluginFramework::MenuFolder *this, int a2)
{
  CTRPluginFramework::MenuFolder *v2; // r4
  int v3; // r1

  v2 = this;
  v3 = *(_DWORD *)(a2 + 4);
  CTRPluginFramework::MenuFolderImpl::GetEntryList(this);
  return v2;
}

//----- (00000234) --------------------------------------------------------
CTRPluginFramework::MenuFolder *__fastcall CTRPluginFramework::MenuFolder::GetFolderList(CTRPluginFramework::MenuFolder *this, int a2)
{
  CTRPluginFramework::MenuFolder *v2; // r4
  int v3; // r1

  v2 = this;
  v3 = *(_DWORD *)(a2 + 4);
  CTRPluginFramework::MenuFolderImpl::GetFolderList(this);
  return v2;
}

//----- (0000024C) --------------------------------------------------------
int __fastcall ZNK18CTRPluginFramework10MenuFolder4NameB5cxx11Ev(int a1)
{
  return *(_DWORD *)(a1 + 4) + 4;
}

//----- (00000258) --------------------------------------------------------
int __fastcall ZNK18CTRPluginFramework10MenuFolder4NoteB5cxx11Ev(int a1)
{
  return *(_DWORD *)(a1 + 4) + 28;
}

//----- (00000264) --------------------------------------------------------
int __fastcall CTRPluginFramework::MenuFolder::ItemsCount(CTRPluginFramework::MenuFolder *this)
{
  return CTRPluginFramework::MenuFolderImpl::ItemsCount(*((_DWORD *)this + 1));
}
// 31C: using guessed type int __fastcall CTRPluginFramework::MenuFolderImpl::ItemsCount(_DWORD);

//----- (0000026C) --------------------------------------------------------
int __fastcall CTRPluginFramework::MenuFolder::Clear(CTRPluginFramework::MenuFolder *this)
{
  return CTRPluginFramework::MenuFolderImpl::Clear(*((CTRPluginFramework::MenuFolderImpl **)this + 1));
}
// 320: using guessed type _DWORD CTRPluginFramework::MenuFolderImpl::Clear(CTRPluginFramework::MenuFolderImpl *__hidden this);

//----- (00000274) --------------------------------------------------------
int __fastcall CTRPluginFramework::MenuFolder::Remove(CTRPluginFramework::MenuFolder *this, unsigned int a2, unsigned int a3, bool a4)
{
  return CTRPluginFramework::MenuFolderImpl::Remove(*((CTRPluginFramework::MenuFolderImpl **)this + 1), a2, a3, a4);
}
// 324: using guessed type _DWORD __cdecl CTRPluginFramework::MenuFolderImpl::Remove(CTRPluginFramework::MenuFolderImpl *__hidden this, unsigned int, unsigned int, bool);

//----- (0000027C) --------------------------------------------------------
int __fastcall CTRPluginFramework::MenuFolder::operator+=(int a1, int a2)
{
  int v2; // r4

  v2 = a1;
  CTRPluginFramework::MenuFolderImpl::Append(
    *(CTRPluginFramework::MenuFolderImpl **)(a1 + 4),
    *(CTRPluginFramework::MenuItem **)(a2 + 20),
    0);
  return v2;
}
// 308: using guessed type _DWORD __cdecl CTRPluginFramework::MenuFolderImpl::Append(CTRPluginFramework::MenuFolderImpl *__hidden this, CTRPluginFramework::MenuItem *, bool);

//----- (0000029C) --------------------------------------------------------
int __fastcall CTRPluginFramework::MenuFolder::operator-=(int a1, int a2)
{
  int v2; // r4

  v2 = a1;
  CTRPluginFramework::MenuFolderImpl::Remove(
    *(CTRPluginFramework::MenuFolderImpl **)(a1 + 4),
    *(CTRPluginFramework::MenuItem **)(a2 + 20));
  return v2;
}
// 328: using guessed type _DWORD __cdecl CTRPluginFramework::MenuFolderImpl::Remove(CTRPluginFramework::MenuFolderImpl *__hidden this, CTRPluginFramework::MenuItem *);

//----- (000002B8) --------------------------------------------------------
int __fastcall CTRPluginFramework::MenuFolder::operator+=(int a1, int a2)
{
  int v2; // r4

  v2 = a1;
  CTRPluginFramework::MenuFolderImpl::Append(
    *(CTRPluginFramework::MenuFolderImpl **)(a1 + 4),
    *(CTRPluginFramework::MenuItem **)(a2 + 4),
    0);
  return v2;
}
// 308: using guessed type _DWORD __cdecl CTRPluginFramework::MenuFolderImpl::Append(CTRPluginFramework::MenuFolderImpl *__hidden this, CTRPluginFramework::MenuItem *, bool);

//----- (000002D8) --------------------------------------------------------
int __fastcall CTRPluginFramework::MenuFolder::operator-=(int a1, int a2)
{
  int v2; // r4

  v2 = a1;
  CTRPluginFramework::MenuFolderImpl::Remove(
    *(CTRPluginFramework::MenuFolderImpl **)(a1 + 4),
    *(CTRPluginFramework::MenuItem **)(a2 + 4));
  return v2;
}
// 328: using guessed type _DWORD __cdecl CTRPluginFramework::MenuFolderImpl::Remove(CTRPluginFramework::MenuFolderImpl *__hidden this, CTRPluginFramework::MenuItem *);

// ALL OK, 22 function(s) have been successfully decompiled
